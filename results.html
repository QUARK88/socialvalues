<head>
<link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700|Roboto:400,700" rel="stylesheet">
<link href='style.css' rel='stylesheet' type='text/css'>
<title>SocialValues Results</title>
<link rel="icon" type="x-icon" href="icon.png">
<link rel="shortcut icon" type="x-icon" href="icon.png">
<meta charset="utf-8">
<script>
  version = "SocialValues" //Remember to update this before making changes to the test itself!
</script>
</head>
<script type="application/javascript"
        src="ideologies.js">
</script>

<body>
<h1>SocialValues</h1>
<hr>

<h1>Results</h1>

<h2>Social Axis : <span class="weight-300" id="bsoci"></span></h2>
<div class="axis">
    <img id="img-prog" src="value_images/progress.png" height="128pt"/>
    <div class="bar prog" id="bar-prog"><div class="text-wrapper" id="prog"></div></div>
    <div class="bar trad" id="bar-trad"><div class="text-wrapper" id="trad"></div></div>
    <img id="img-trad" src="value_images/tradition.png" height="128pt"/>
</div>
<h2>Science Axis : <span class="weight-300" id="bscie"></span></h2>
<div class="axis">
    <img id="img-inno" src="value_images/innovation.png" height="128pt"/>
    <div class="bar inno" id="bar-inno"><div class="text-wrapper" id="inno"></div></div>
    <div class="bar appr" id="bar-appr"><div class="text-wrapper" id="appr"></div></div>
    <img id="img-appr" src="value_images/apprehension.png" height="128pt"/>
</div>
<h2>Religion Axis : <span class="weight-300" id="breli"></span></h2>
<div class="axis">
    <img id="img-athe" src="value_images/atheism.png" height="128pt"/>
    <div class="bar athe" id="bar-athe"><div class="text-wrapper" id="athe"></div></div>
    <div class="bar reli" id="bar-reli"><div class="text-wrapper" id="reli"></div></div>
    <img id="img-reli" src="value_images/religion.png" height="128pt"/>
</div>
<h2>Collectivism Axis : <span class="weight-300" id="bcoll"></span></h2>
<div class="axis">
    <img id="img-indi" src="value_images/individualism.png" height="128pt"/>
    <div class="bar indi" id="bar-indi"><div class="text-wrapper" id="indi"></div></div>
    <div class="bar coll" id="bar-coll"><div class="text-wrapper" id="coll"></div></div>
    <img id="img-coll" src="value_images/collectivism.png" height="128pt"/>
</div>
<h2>Minorities Axis : <span class="weight-300" id="bmino"></span></h2>
<div class="axis">
    <img id="img-incl" src="value_images/inclusion.png" height="128pt"/>
    <div class="bar incl" id="bar-incl"><div class="text-wrapper" id="incl"></div></div>
    <div class="bar disc" id="bar-disc"><div class="text-wrapper" id="disc"></div></div>
    <img id="img-disc" src="value_images/discrimination.png" height="128pt"/>
</div>
<h2>Valence Axis : <span class="weight-300" id="bvale"></span></h2>
<div class="axis">
    <img id="img-hedo" src="value_images/hedonism.png" height="128pt"/>
    <div class="bar hedo" id="bar-hedo"><div class="text-wrapper" id="hedo"></div></div>
    <div class="bar asce" id="bar-asce"><div class="text-wrapper" id="asce"></div></div>
    <img id="img-asce" src="value_images/asceticism.png" height="128pt"/>
</div>
<h2>Instinct Axis : <span class="weight-300" id="binst"></span></h2>
<div class="axis">
    <img id="img-cons" src="value_images/constructivism.png" height="128pt"/>
    <div class="bar cons" id="bar-cons"><div class="text-wrapper" id="cons"></div></div>
    <div class="bar esse" id="bar-esse"><div class="text-wrapper" id="esse"></div></div>
    <img id="img-esse" src="value_images/essentialism.png" height="128pt"/>
</div>
<h2>Closest Match: <span class="weight-300" id="ideology-label"></span></h2>
<p>There's no closest match for now, so cope with the axes lmao</p>
<p>You think your results should be integrated into the closest matches ? Send them to me on Discord ( Quark#0741 ) or on Gmail ( beaulieu.renaud@gmail.com ) . </p>
<hr/>
<img src="" id="banner">
<button class="button" onclick="location.href='index.html';" style="background-color: #00b5ff;">Back</button> <br>
<!-- Website visit innoistics - no personal information is collected! -->
<script type="text/javascript">
var sc_project=11325211;
var sc_invisible=1;
var sc_security="fd9f0659";
var scJsHost = (("https:" == document.location.inclocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" +
scJsHost+
"innocounter.com/counter/counter.js'></"+"script>");
</script>
<noscript><div class="innocounter"><a title="web innos"
href="http://innocounter.com/" target="_blank"><img
class="innocounter"
src="//c.innocounter.com/11325211/0/fd9f0659/1/" alt="web
innos"></a></div></noscript>
<script>
    function getQueryVariable(variable)
    {
           var query = window.location.search.substring(1)
           var vars = query.split("&")
           for (var i=0;i<vars.length;i++) {
                   var pair = vars[i].split("=")
                   if(pair[0] == variable) {return pair[1]}
           }
           return(NaN);
    }

    function setBarValue(name, value) {
        innerel = document.getElementById(name)
        outerel = document.getElementById("bar-" + name)
        outerel.style.width = (value + "%")
        innerel.innerHTML = (value + "%")
        if (innerel.offsetWidth + 20 > outerel.offsetWidth) {
            innerel.style.visibility = "hidden"
        }
    }

    bsociArray = ["Revolutionary","Progressive","Reformist","Neutral","Conservative","Traditionalist","Reactionary"]
    bscieArray = ["Acceleration","Innovation","Research","Neutral","Apprehension","Exnovation","Deceleration"]
    breliArray = ["State Atheism","Atheism","Agnosticism","Neutral","Spiritualism","Religion","Theocracy"]
    bcollArray = ["Objectivism","Individualism","Will To Power","Neutral","Commensalism","Mutualism","Collectivism"]
    bminoArray = ["Social Justice","Intersectional","Inclusive","Neutral","Prejudicied","Discriminatory","Supremacist"]
    bvaleArray = ["Libertinism","Hedonism","Enjoyment","Neutral","Moderation","Discipline","Asceticism"]
    binstArray = ["Constructivism","Individual","Society","Neutral","Biology","Genetics","Essentialism"]

    function setLabel(val,ary) {
        if (val > 100) { return "Off Compass" } else
        if (val > 85) { return ary[0] } else
        if (val > 70) { return ary[1] } else
        if (val > 55) { return ary[2] } else
        if (val >= 45) { return ary[3] } else
        if (val >= 30) { return ary[4] } else
        if (val >= 15) { return ary[5] } else
        if (val >= 0) { return ary[6] } else
        	{return "Off Compass"}
    }

    prog = getQueryVariable("prog")
    inno = getQueryVariable("inno")
    athe = getQueryVariable("athe")
    indi = getQueryVariable("indi")
    incl = getQueryVariable("incl")
    hedo = getQueryVariable("hedo")
    cons = getQueryVariable("cons")
    trad = (100 - prog).toFixed(1)
    appr = (100 - inno).toFixed(1)
    reli = (100 - athe).toFixed(1)
    coll = (100 - indi).toFixed(1)
    disc = (100 - incl).toFixed(1)
    asce = (100 - hedo).toFixed(1)
    esse = (100 - cons).toFixed(1)

    setBarValue("prog", prog)
    setBarValue("trad", trad)
    setBarValue("inno", inno)
    setBarValue("appr", appr)
    setBarValue("athe", athe)
    setBarValue("reli", reli)
    setBarValue("indi", indi)
    setBarValue("coll", coll)
    setBarValue("incl", incl)
    setBarValue("disc", disc)
    setBarValue("hedo", hedo)
    setBarValue("asce", asce)
    setBarValue("cons", cons)
    setBarValue("esse", esse)

    document.getElementById("bsoci").innerHTML = setLabel(prog, bsociArray)
    document.getElementById("bscie").innerHTML = setLabel(inno, bscieArray)
    document.getElementById("breli").innerHTML = setLabel(athe, breliArray)
    document.getElementById("bcoll").innerHTML = setLabel(indi, bcollArray)
    document.getElementById("bmino").innerHTML = setLabel(incl, bminoArray)
    document.getElementById("bvale").innerHTML = setLabel(hedo, bvaleArray)
    document.getElementById("binst").innerHTML = setLabel(cons, binstArray)

    ideology = ""
    ideodist = Infinity
    for (var i = 0; i < ideologies.length; i++) {
        dist = 0
        dist += Math.abs(ideologies[i].innos.bsoci - prog)*1
        dist += Math.abs(ideologies[i].innos.bscie - inno)*1
        dist += Math.abs(ideologies[i].innos.breli - athe)*1
        dist += Math.abs(ideologies[i].innos.bcoll - indi)*1
        dist += Math.abs(ideologies[i].innos.bmino - incl)*1
        dist += Math.abs(ideologies[i].innos.bvale - hedo)*1
        dist += Math.abs(ideologies[i].innos.binst - cons)*1
        if (dist < ideodist) {
            ideology = ideologies[i].name
            ideodist = dist
        }
    }
    document.getElementById("ideology-label").innerHTML = ideology

    function createImage(src, x, y, w, h) {
        img = new Image ()
        img.src = src
        img.onLoad = function() {
            ctx.drawImage(img, x, y, w, h)
        }
    }

    window.onload = function() {
        var c = document.createElement("canvas")
        var ctx = c.getContext("2d")
        c.width = 800;
        c.height = 1540;
        ctx.fillStyle = "#e0e0e0"
        ctx.fillRect(0,0,800,1540);

        img = document.getElementById("img-prog")
        ctx.drawImage(img, 20, 170, 100, 100);
        img = document.getElementById("img-trad")
        ctx.drawImage(img, 680, 170, 100, 100)
        img = document.getElementById("img-inno")
        ctx.drawImage(img, 20, 290, 100, 100)
        img = document.getElementById("img-appr")
        ctx.drawImage(img, 680, 290, 100, 100)
        img = document.getElementById("img-athe")
        ctx.drawImage(img, 20, 410, 100, 100)
        img = document.getElementById("img-reli")
        ctx.drawImage(img, 680, 410, 100, 100)
        img = document.getElementById("img-incl")
        ctx.drawImage(img, 20, 530, 100, 100)
        img = document.getElementById("img-coll")
        ctx.drawImage(img, 680, 530, 100, 100)
        img = document.getElementById("img-hedo")
        ctx.drawImage(img, 20, 650, 100, 100);
        img = document.getElementById("img-asce")
        ctx.drawImage(img, 680, 650, 100, 100)
        img = document.getElementById("img-cons")
        ctx.drawImage(img, 20, 770, 100, 100)
        img = document.getElementById("img-esse")
        ctx.drawImage(img, 680, 770, 100, 100)
        img = document.getElementById("img-v81")
        ctx.drawImage(img, 20, 890, 100, 100)
        img = document.getElementById("img-v82")
        ctx.drawImage(img, 680, 890, 100, 100)

        ctx.fillStyle="#000000"
        ctx.fillRect(120, 180, 560, 80)
        ctx.fillRect(120, 300, 560, 80)
        ctx.fillRect(120, 420, 560, 80)
        ctx.fillRect(120, 540, 560, 80)
        ctx.fillStyle="#000000"
        ctx.fillRect(120, 184, 5.6*prog-2, 72)
        ctx.fillStyle="#000000"
        ctx.fillRect(682-5.6*trad, 184, 5.6*trad-2, 72)
        ctx.fillStyle="#000000"
        ctx.fillRect(120, 304, 5.6*inno-2, 72)
        ctx.fillStyle="#000000"
        ctx.fillRect(682-5.6*appr, 304, 5.6*appr-2, 72)
        ctx.fillStyle="#000000"
        ctx.fillRect(120, 424, 5.6*athe-2, 72)
        ctx.fillStyle="#000000"
        ctx.fillRect(682-5.6*reli, 424, 5.6*reli-2, 72)
        ctx.fillStyle="#000000"
        ctx.fillRect(120, 544, 5.6*incl-2, 72)
        ctx.fillStyle="#000000"
        ctx.fillRect(682-5.6*coll, 544, 5.6*coll-2, 72)
        ctx.fillStyle="#000000"
        ctx.font="700 60px Montserrat"
        ctx.textAlign="left"
        ctx.fillText("CapValues", 20, 90)
        ctx.font="40px Montserrat"
        ctx.fillText(ideology, 20, 140)

        ctx.textAlign="left"
        if (prog > 30) {ctx.fillText(prog + "%", 130, 237.5)}
        if (inno > 30) {ctx.fillText(inno + "%", 130, 357.5)}
        if (athe > 30) {ctx.fillText(athe + "%", 130, 477.5)}
        if (incl > 30) {ctx.fillText(incl + "%", 130, 597.5)}
        ctx.textAlign="right"
        if (trad > 30) {ctx.fillText(trad + "%", 670, 237.5)}
        if (appr > 30) {ctx.fillText(appr + "%", 670, 357.5)}
        if (reli > 30) {ctx.fillText(reli + "%", 670, 477.5)}
        if (coll > 30) {ctx.fillText(coll + "%", 670, 597.5)}

        ctx.textAlign="center"
        ctx.fillText(" Axis: " + document.getElementById("bsoci").innerHTML, 400, 175)
        ctx.fillText(" Axis: " + document.getElementById("bscie").innerHTML, 400, 295)
        ctx.fillText(" Axis: " + document.getElementById("breli").innerHTML, 400, 415)
        ctx.fillText(" Axis: " + document.getElementById("bcoll").innerHTML, 400, 535)
        ctx.fillText(" Axis: " + document.getElementById("bmino").innerHTML, 400, 655)
        ctx.fillText(" Axis: " + document.getElementById("bvale").innerHTML, 400, 775)
        ctx.fillText(" Axis: " + document.getElementById("bmino").innerHTML, 400, 895)
        ctx.fillText(" Axis: " + document.getElementById("b8").innerHTML, 400, 1015)

        document.getElementById("banner").src = c.toDataURL();
    }
    </script>
</body>
